#include <math.h>
#include <stdio.h>
double
f(int n)
{
    double z;
    double intg = 0.0;
    double h    = 2 / n;
    double x;
    for(x = 1 / n; x <= 2; x += h)
    {
        if(x <= 1)
            z = pow(x, 2) * atan(x);
        else
            z = sin(1 / pow(x, 2));
        intg += z;
    }
    intg *= h;
    return intg;
}
int
main()
{
    double e;
    printf("Enter e ");
    scanf("%lf", &e);
    int n = 1;
    double intg  = 0;
    double intg2 = 1;
    while(fabs(intg2 - intg) / 3 >= e)
    {
        n = n * 2;
        intg  = intg2;
        intg2 = f(2 * n);
    }
    printf("%lf", intg2);
    return 0;
}
